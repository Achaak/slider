function Slider(){var sliderDOM=undefined;var btnsDOM=$('<div class="btns-slider"></div>');var picturesDOM=$('<div class="pictures-slider"></div>');var pictures=[];var interval=undefined;var timeout=5000;var cptPicture=0;function init(_elem,_pictures,_interval){sliderDOM=$(_elem);sliderDOM.empty();picturesDOM.empty();btnsDOM.empty();clearInterval(interval);sliderDOM.addClass("slider-wrapper");sliderDOM.append(picturesDOM);sliderDOM.append(btnsDOM);pictures=_pictures;if(_interval)timeout=_interval;if(_pictures)createBtn(pictures.length);if(_pictures)createPictures(pictures);startSlider()};function createBtn(_nbBtn){for(var i=0;i<_nbBtn;i++){var _btnSlider=$('<div class="btn"></div>');_btnSlider.click(function(e){var _target=$(e.currentTarget);changePicture(_target.index());stopSlider();startSlider()});btnsDOM.append(_btnSlider)}
btnsDOM.find(".btn").first().addClass("selected")}
function createPictures(_pictures){for(var i=0;i<_pictures.length;i++){var _picture=_pictures[i];var _pictureSlider=$('<div class="picture" ></div>');_pictureSlider.css("background-image","url("+_picture.url+")")
if(_picture.link){_pictureSlider.data("link",_picture.link);_pictureSlider.click(function(e){var _target=$(e.currentTarget);var _data=_target.data()
window.location.href=_data.link})}
if(_picture.onClick){_pictureSlider.click(function(e){_picture.onClick()})}
picturesDOM.append(_pictureSlider)}
picturesDOM.find(".picture").first().addClass("selected")}
function changePicture(id){if(Number.isInteger(id))cptPicture=id
if(cptPicture>=pictures.length)cptPicture=0
btnsDOM.find(".btn").removeClass("selected");picturesDOM.find(".picture").removeClass("selected");btnsDOM.find(".btn:nth-child("+(cptPicture+1)+")").addClass("selected");picturesDOM.find(".picture:nth-child("+(cptPicture+1)+")").addClass("selected")}
function startSlider(){clearInterval(interval);interval=setInterval(function(){cptPicture++;changePicture()},timeout)}
function stopSlider(){clearInterval(interval)}
return{"init":function(_elem,_pictures,_interval){init(_elem,_pictures,_interval)},"changePicture":function(_id){changePicture(_id)},"startSlider":function(){startSlider()},"stopSlider":function(){stopSlider()}}}